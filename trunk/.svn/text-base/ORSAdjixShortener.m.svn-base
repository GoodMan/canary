//
//  ORSAdjixShortener.m
//  URL Shorteners
//
//  Created by Nicholas Toumpelis on 18/10/2008.
//  Copyright 2008 Ocean Road Software. All rights reserved.
//
//  0.6 - 18/10/2008

#import "ORSAdjixShortener.h"

@implementation ORSAdjixShortener

- (NSString *) generateURLFrom:(NSString *)originalURL {
	NSString *requestURL = [NSString 
		stringWithFormat:@"http://api.adjix.com/shrinkLink?url=%@", 
							originalURL];
	NSURLRequest *request = [NSURLRequest 
							 requestWithURL:[NSURL URLWithString:requestURL]
							 cachePolicy:NSURLRequestUseProtocolCachePolicy
							 timeoutInterval:21.0];
	NSURLResponse *response = nil;
	NSError *error = nil;
	NSLog(@"ORSAdjixShortener:: generateURLFrom:");
	return [[NSString alloc] initWithData:[NSURLConnection 
		sendSynchronousRequest:request returningResponse:&response error:&error]
								 encoding:NSASCIIStringEncoding];
}

@end
